<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DAOS API: DAOS Events</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="daos_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DAOS API
   &#160;<span id="projectnumber">v2.1dev</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___events.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DAOS Events</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf8c317a42292b61c93aae91e59118a46"><td class="memItemLeft" align="right" valign="top"><a id="gaf8c317a42292b61c93aae91e59118a46"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>container_of</b>(ptr,  type,  member)&#160;&#160;&#160;((type *)((char *)(ptr)-(char *)(&amp;((type *)0)-&gt;member)))</td></tr>
<tr class="separator:gaf8c317a42292b61c93aae91e59118a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc5a410e279ad82988128abd3cef7341"><td class="memItemLeft" align="right" valign="top"><a id="gadc5a410e279ad82988128abd3cef7341"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DAOS_EQ_DESTROY_FORCE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gadc5a410e279ad82988128abd3cef7341"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac1a5e2f9c2884a5c5458d1296fb4845e"><td class="memItemLeft" align="right" valign="top"><a id="gac1a5e2f9c2884a5c5458d1296fb4845e"></a>
typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><b>daos_event_comp_cb_t</b>) (void *, <a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *, int)</td></tr>
<tr class="separator:gac1a5e2f9c2884a5c5458d1296fb4845e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga956ad4221966854537303c68fc479aaa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#ga956ad4221966854537303c68fc479aaa">daos_eq_create</a> (<a class="el" href="structdaos__handle__t.html">daos_handle_t</a> *eqh)</td></tr>
<tr class="separator:ga956ad4221966854537303c68fc479aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7dfb4851d3cffdb311ae18d19e63af7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#gac7dfb4851d3cffdb311ae18d19e63af7">daos_eq_destroy</a> (<a class="el" href="structdaos__handle__t.html">daos_handle_t</a> eqh, int flags)</td></tr>
<tr class="separator:gac7dfb4851d3cffdb311ae18d19e63af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac88e50ebe4ab9d702d1aa7dff5cbc447"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#gac88e50ebe4ab9d702d1aa7dff5cbc447">daos_eq_poll</a> (<a class="el" href="structdaos__handle__t.html">daos_handle_t</a> eqh, int wait_running, int64_t timeout, unsigned int nevents, <a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> **events)</td></tr>
<tr class="separator:gac88e50ebe4ab9d702d1aa7dff5cbc447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6718ddd89d7bc15954d3483ab3c111a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#ga6718ddd89d7bc15954d3483ab3c111a9">daos_eq_query</a> (<a class="el" href="structdaos__handle__t.html">daos_handle_t</a> eqh, <a class="el" href="group___types.html#ga264d4997745ed0f043d482f639085137">daos_eq_query_t</a> query, unsigned int nevents, <a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> **events)</td></tr>
<tr class="separator:ga6718ddd89d7bc15954d3483ab3c111a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f1d8dcb6f0ecfa6a7e99190e63d3c9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#ga6f1d8dcb6f0ecfa6a7e99190e63d3c9e">daos_event_init</a> (<a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *ev, <a class="el" href="structdaos__handle__t.html">daos_handle_t</a> eqh, <a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *parent)</td></tr>
<tr class="separator:ga6f1d8dcb6f0ecfa6a7e99190e63d3c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cac928fc307e41a08f8559ad8e2681a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#ga3cac928fc307e41a08f8559ad8e2681a">daos_event_fini</a> (<a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *ev)</td></tr>
<tr class="separator:ga3cac928fc307e41a08f8559ad8e2681a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab776ae46c78128d04c9a88d87a91f954"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#gab776ae46c78128d04c9a88d87a91f954">daos_event_next</a> (<a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *parent, <a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *child)</td></tr>
<tr class="separator:gab776ae46c78128d04c9a88d87a91f954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae7936cfef41a5f7e239b0be2a7a7f2d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#gaae7936cfef41a5f7e239b0be2a7a7f2d">daos_event_test</a> (struct <a class="el" href="structdaos__event.html">daos_event</a> *ev, int64_t timeout, bool *flag)</td></tr>
<tr class="separator:gaae7936cfef41a5f7e239b0be2a7a7f2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2ed2891948f2cda7c3f39151d78b8bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#gae2ed2891948f2cda7c3f39151d78b8bb">daos_event_register_comp_cb</a> (struct <a class="el" href="structdaos__event.html">daos_event</a> *ev, daos_event_comp_cb_t cb, void *arg)</td></tr>
<tr class="separator:gae2ed2891948f2cda7c3f39151d78b8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9f4b89fbc6533915e97362d9ae1aeb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#gaf9f4b89fbc6533915e97362d9ae1aeb8">daos_event_parent_barrier</a> (struct <a class="el" href="structdaos__event.html">daos_event</a> *ev)</td></tr>
<tr class="separator:gaf9f4b89fbc6533915e97362d9ae1aeb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86f0db3c5e066d98fe7083e74a5b7edb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___events.html#ga86f0db3c5e066d98fe7083e74a5b7edb">daos_event_abort</a> (<a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *ev)</td></tr>
<tr class="separator:ga86f0db3c5e066d98fe7083e74a5b7edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>(C) Copyright 2015-2021 Intel Corporation.</p>
<p>SPDX-License-Identifier: BSD-2-Clause-Patent DAOS Event Queue (EQ) and Event</p>
<p>DAOS APIs can run either in non-blocking mode or in blocking mode:</p>
<ul>
<li>Non-blocking mode If input event(daos_event_t) of API is not NULL, it will run in non-blocking mode and return immediately after submitting API requests to the underlying stack. The returned value of the API is zero on success, or negative error code only if there is an invalid parameter or other failure which can be detected without calling into the server stack. Error codes for all other failures will be returned by event::ev_error.</li>
<li>Blocking mode If input event of the API is NULL, it will run in blocking mode and return after completing the operation. Error codes for all failure cases should be returned by the return value of the API.</li>
</ul>
<p>Given a pointer @ptr to the field @member embedded into type (usually struct) @type, return pointer to the embedding instance of @type. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga956ad4221966854537303c68fc479aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga956ad4221966854537303c68fc479aaa">&#9670;&nbsp;</a></span>daos_eq_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_eq_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdaos__handle__t.html">daos_handle_t</a> *&#160;</td>
          <td class="paramname"><em>eqh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an Event Queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eq</td><td>[OUT] Returned EQ handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, negative value if error </dd></dl>

</div>
</div>
<a id="gac7dfb4851d3cffdb311ae18d19e63af7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7dfb4851d3cffdb311ae18d19e63af7">&#9670;&nbsp;</a></span>daos_eq_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_eq_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdaos__handle__t.html">daos_handle_t</a>&#160;</td>
          <td class="paramname"><em>eqh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy an Event Queue, it waits on -EBUSY if EQ is not empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eqh</td><td>[IN] EQ to finalize </td></tr>
    <tr><td class="paramname">ev</td><td>[IN] Pointer to completion event </td></tr>
    <tr><td class="paramname">flags</td><td>[IN] Flags to indicate the behavior of the destroy.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, EBUSY if there is any launched event </dd></dl>

</div>
</div>
<a id="gac88e50ebe4ab9d702d1aa7dff5cbc447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac88e50ebe4ab9d702d1aa7dff5cbc447">&#9670;&nbsp;</a></span>daos_eq_poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_eq_poll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdaos__handle__t.html">daos_handle_t</a>&#160;</td>
          <td class="paramname"><em>eqh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wait_running</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nevents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> **&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve completion events from an EQ</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eqh</td><td>[IN] EQ handle </td></tr>
    <tr><td class="paramname">wait_running</td><td>[IN] Wait only if there are running event. Some events maybe initialized but not running. This selects whether to wait only on events that are running or all. </td></tr>
    <tr><td class="paramname">timeout</td><td>[IN] How long is caller going to wait (micro-second) if <em>timeout</em> &gt; 0, it can also be DAOS_EQ_NOWAIT, DAOS_EQ_WAIT </td></tr>
    <tr><td class="paramname">nevents</td><td>[IN] Size of <em>events</em> array, returned number of events should always be less than or equal to <em>nevents</em> </td></tr>
    <tr><td class="paramname">events</td><td>[OUT] Pointer to returned events array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;= 0 Returned number of events &lt; 0 negative value if error </dd></dl>

</div>
</div>
<a id="ga6718ddd89d7bc15954d3483ab3c111a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6718ddd89d7bc15954d3483ab3c111a9">&#9670;&nbsp;</a></span>daos_eq_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_eq_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdaos__handle__t.html">daos_handle_t</a>&#160;</td>
          <td class="paramname"><em>eqh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___types.html#ga264d4997745ed0f043d482f639085137">daos_eq_query_t</a>&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nevents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> **&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Query how many outstanding events in EQ, if <em>events</em> is not NULL, these events will be stored into it.</p>
<p>Events returned by query are still owned by DAOS, it's not allowed to finalize or free events returned by this function, but it's allowed to call <a class="el" href="group___events.html#ga86f0db3c5e066d98fe7083e74a5b7edb">daos_event_abort()</a> to abort launched operation.</p>
<p>Also, the status of returned event could still be changing, for example, the returned "launched" event can be turned to "completed" before accessing. It is the user's responsibility to guarantee that returned events would be freed by the polling process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eqh</td><td>[IN] EQ handle </td></tr>
    <tr><td class="paramname">mode</td><td>[IN] Query mode </td></tr>
    <tr><td class="paramname">nevents</td><td>[IN] Size of <em>events</em> array </td></tr>
    <tr><td class="paramname">events</td><td>[OUT] Pointer to returned events array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;= 0 Returned number of events &lt; 0 negative value if error </dd></dl>

</div>
</div>
<a id="ga86f0db3c5e066d98fe7083e74a5b7edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86f0db3c5e066d98fe7083e74a5b7edb">&#9670;&nbsp;</a></span>daos_event_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_event_abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to abort operations associated with this event. If <em>ev</em> is a parent event, this call will abort all child operations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>[IN] Event (operation) to abort</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success -DER_INVAL Invalid parameter -DER_NO_PERM Permission denied </dd></dl>

</div>
</div>
<a id="ga3cac928fc307e41a08f8559ad8e2681a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cac928fc307e41a08f8559ad8e2681a">&#9670;&nbsp;</a></span>daos_event_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_event_fini </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalize an event. If event has been passed into any DAOS API, it can only be finalized when it's been polled out from EQ, even if it is aborted by calling <a class="el" href="group___events.html#ga86f0db3c5e066d98fe7083e74a5b7edb">daos_event_abort()</a>. The event will be removed from child-list of the parent event if it is initialized with parent. If <em>ev</em> itself is a parent event, then this function will finalize all child events and <em>ev</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>[IN] Event to finalize</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success -DER_INVAL Invalid parameter -DER_NONEXIST Event Queue does not exist </dd></dl>

</div>
</div>
<a id="ga6f1d8dcb6f0ecfa6a7e99190e63d3c9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f1d8dcb6f0ecfa6a7e99190e63d3c9e">&#9670;&nbsp;</a></span>daos_event_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_event_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdaos__handle__t.html">daos_handle_t</a>&#160;</td>
          <td class="paramname"><em>eqh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a new event for <em>eq</em> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>[IN] Event to initialize </td></tr>
    <tr><td class="paramname">eqh</td><td>[IN] Where the event to be queued on, it's ignored if <em>parent</em> is specified </td></tr>
    <tr><td class="paramname">parent</td><td>[IN] "parent" event, it can be NULL if no parent event. If it's not NULL, caller will never see completion of this event, instead, will only see completion of <em>parent</em> when all children of <em>parent</em> are completed. The operation associated with the parent event may however be launched or completed before its children. The parent event completion is meant to be just an easy way to combine multiple events completion status into 1.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success -DER_INVAL Invalid parameter -DER_NO_PERM Permission denied -DER_NONEXIST Event Queue does not exist </dd></dl>

</div>
</div>
<a id="gab776ae46c78128d04c9a88d87a91f954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab776ae46c78128d04c9a88d87a91f954">&#9670;&nbsp;</a></span>daos_event_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a>* daos_event_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___types.html#ga7e4095443fd42c3411ed0bd000cc9c20">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>child</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the next child event of <em>ev</em>, it will return the first child event if <em>child</em> is NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>[IN] Parent event </td></tr>
    <tr><td class="paramname">child</td><td>[IN] Current child event.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The next child event after <em>child</em>, or NULL if it's the last one. </dd></dl>

</div>
</div>
<a id="gaf9f4b89fbc6533915e97362d9ae1aeb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9f4b89fbc6533915e97362d9ae1aeb8">&#9670;&nbsp;</a></span>daos_event_parent_barrier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_event_parent_barrier </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdaos__event.html">daos_event</a> *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark the parent event as a launched barrier, meaning no more child events can be added before all other child events have completed and the parent event polled out of the EQ or tested for completion, if it is not in an EQ. The parent won't be polled out of the EQ or returns done with daos_event_test until all children have completed.</p>
<p>Note that if the parent event was launched as part of another daos operation, this function should not be called anymore and the function the event was launched with becomes the barrier operation. In that case, the operation itself can be completed before the children do, but the event won't be marked as ready before all the children complete.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>[IN] Parent event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success -DER_INVAL Invalid parameter -DER_NO_PERM Permission denied -DER_NONEXIST Event Queue does not exist </dd></dl>

</div>
</div>
<a id="gae2ed2891948f2cda7c3f39151d78b8bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2ed2891948f2cda7c3f39151d78b8bb">&#9670;&nbsp;</a></span>daos_event_register_comp_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_event_register_comp_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdaos__event.html">daos_event</a> *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">daos_event_comp_cb_t&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register completion callback on event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>[IN] Event (operation). </td></tr>
    <tr><td class="paramname">cb</td><td>[IN] Completion callback to register. </td></tr>
    <tr><td class="paramname">arg</td><td>[IN] User args passed to completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success -DER_INVAL Invalid parameter -DER_NO_PERM Permission denied negative rc of associated operation of the event. </dd></dl>

</div>
</div>
<a id="gaae7936cfef41a5f7e239b0be2a7a7f2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae7936cfef41a5f7e239b0be2a7a7f2d">&#9670;&nbsp;</a></span>daos_event_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_event_test </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdaos__event.html">daos_event</a> *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test completion of an event. If <em>ev</em> is a child, the operation will fail. If the event was initialized in an event queue, and the test completes the event, the event will be pulled out of the event queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>[IN] Event (operation) to test. </td></tr>
    <tr><td class="paramname">timeout</td><td>[IN] How long is caller going to wait (micro-second) if <em>timeout</em> &gt; 0, it can also be DAOS_EQ_NOWAIT, DAOS_EQ_WAIT </td></tr>
    <tr><td class="paramname">flag</td><td>[OUT] returned state of the event. true if the event is finished (completed or aborted), false if in-flight.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success -DER_INVAL Invalid parameter -DER_NO_PERM Permission denied -DER_NONEXIST Event Queue does not exist negative rc of associated operation of the event. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
