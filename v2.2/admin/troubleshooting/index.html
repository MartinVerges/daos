
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Distributed Asynchronous Object Storage">
      
      
      
        <meta name="author" content="DAOS Project">
      
      
      <link rel="icon" href="../../daos_logo_wh.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.6">
    
    
      
        <title>Troubleshooting - DAOS v2.2 - dev</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.802231af.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Ubuntu";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="blue">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#troubleshooting" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="http://daos.io" title="DAOS v2.2 - dev" class="md-header__button md-logo" aria-label="DAOS v2.2 - dev" data-md-component="logo">
      
  <img src="../../daos_logo_wh.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DAOS v2.2 - dev
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Troubleshooting
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/daos-stack/daos/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Intro
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../overview/architecture/" class="md-tabs__link">
        Overview
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../QSG/setup/" class="md-tabs__link">
        Installation and Setup
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../hardware/" class="md-tabs__link md-tabs__link--active">
        Administration Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../testing/autotest/" class="md-tabs__link">
        Test and Benchmarking
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../user/workflow/" class="md-tabs__link">
        User Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../release/release_notes_v2_2/" class="md-tabs__link">
        Releases
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../dev/development/" class="md-tabs__link">
        Developer Zone
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="http://daos.io" title="DAOS v2.2 - dev" class="md-nav__button md-logo" aria-label="DAOS v2.2 - dev" data-md-component="logo">
      
  <img src="../../daos_logo_wh.png" alt="logo">

    </a>
    DAOS v2.2 - dev
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/daos-stack/daos/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Intro
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Intro" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Intro
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome to DAOS!
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="http://wiki.daos.io" class="md-nav__link">
        Community Wiki
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="http://wiki.daos.io/spaces/DC/pages/4836661105/Roadmap" class="md-nav__link">
        Community Roadmap
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://daos.groups.io/g/daos" class="md-nav__link">
        Community Mailing list
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="http://jira.daos.io" class="md-nav__link">
        Issue tracker
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Overview
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Overview" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/storage/" class="md-nav__link">
        Storage Model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/transaction/" class="md-nav__link">
        Transaction Model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/data_integrity/" class="md-nav__link">
        Data Integrity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/fault/" class="md-nav__link">
        Fault Model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/security/" class="md-nav__link">
        Security Model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/use_cases/" class="md-nav__link">
        Use Cases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/terminology/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Installation and Setup
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation and Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation and Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../QSG/setup/" class="md-nav__link">
        CentOS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../QSG/suse_setup/" class="md-nav__link">
        openSUSE
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../QSG/scratch/" class="md-nav__link">
        Build from Scratch
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        Administration Guide
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Administration Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Administration Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/" class="md-nav__link">
        Hardware Requirements
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Software Installation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../predeployment_check/" class="md-nav__link">
        Pre-deployment Checklist
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../deployment/" class="md-nav__link">
        System Deployment
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../administration/" class="md-nav__link">
        System Administration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../pool_operations/" class="md-nav__link">
        Pool Operations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tiering_uns/" class="md-nav__link">
        Tiering and Unified Namespace
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../performance_tuning/" class="md-nav__link">
        Performance Tuning
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Troubleshooting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Troubleshooting
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#daos-errors" class="md-nav__link">
    DAOS Errors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-files" class="md-nav__link">
    Log Files
  </a>
  
    <nav class="md-nav" aria-label="Log Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#control-plane-log" class="md-nav__link">
    Control Plane Log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-plane-log" class="md-nav__link">
    Data Plane Log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#privileged-helper-log" class="md-nav__link">
    Privileged Helper Log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#daos-agent-log" class="md-nav__link">
    Daos Agent Log
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging-system" class="md-nav__link">
    Debugging System
  </a>
  
    <nav class="md-nav" aria-label="Debugging System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registered-subsystemsfacilities" class="md-nav__link">
    Registered Subsystems/Facilities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#priority-logging" class="md-nav__link">
    Priority Logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug-masksstreams" class="md-nav__link">
    Debug Masks/Streams:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-use-cases" class="md-nav__link">
    Common Use Cases
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-daos-problems" class="md-nav__link">
    Common DAOS Problems
  </a>
  
    <nav class="md-nav" aria-label="Common DAOS Problems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#incompatible-agent" class="md-nav__link">
    Incompatible Agent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hlc-sync" class="md-nav__link">
    HLC Sync
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shared-memory-errors" class="md-nav__link">
    Shared Memory Errors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-start-issues" class="md-nav__link">
    Server Start Issues
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errors-creating-a-pool" class="md-nav__link">
    Errors creating a Pool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problems-creating-a-container" class="md-nav__link">
    Problems creating a container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applications-run-slow" class="md-nav__link">
    Applications run slow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-errors-and-workarounds" class="md-nav__link">
    Common Errors and Workarounds
  </a>
  
    <nav class="md-nav" aria-label="Common Errors and Workarounds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-dmg-command-without-daos_admin-privilege" class="md-nav__link">
    Use dmg command without daos_admin privilege
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-daos-command-before-daos_agent-started" class="md-nav__link">
    use daos command before daos_agent started
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-daos-command-with-invalid-or-wrong-parameters" class="md-nav__link">
    use daos command with invalid or wrong parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dmg-pool-create-failed-due-to-no-space" class="md-nav__link">
    dmg pool create failed due to no space
  </a>
  
    <nav class="md-nav" aria-label="dmg pool create failed due to no space">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dmg-pool-destroy-timeout" class="md-nav__link">
    dmg pool destroy timeout
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bug-report" class="md-nav__link">
    Bug Report
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../utilities_examples/" class="md-nav__link">
        Utilities and Usage Examples
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../env_variables/" class="md-nav__link">
        Environment Variables
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../QSG/dmg_tool/" class="md-nav__link">
        Management (DMG) Tool Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Test and Benchmarking
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Test and Benchmarking" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Test and Benchmarking
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/autotest/" class="md-nav__link">
        Run DAOS Autotest
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/cartselftest/" class="md-nav__link">
        Run CaRT Self_test
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/ior/" class="md-nav__link">
        Run IOR and mdtest
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/dbench/" class="md-nav__link">
        Run dbench
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/datamover/" class="md-nav__link">
        Run Datamover test
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="http://wiki.daos.io/spaces/DC/pages/4873388103/DAOS+IO-500+Instructions" class="md-nav__link">
        Run IO500
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        User Guide
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="User Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user/workflow/" class="md-nav__link">
        Workflow
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user/container/" class="md-nav__link">
        Container Management
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user/filesystem/" class="md-nav__link">
        File System
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user/mpi-io/" class="md-nav__link">
        MPI-IO Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user/hdf5/" class="md-nav__link">
        HDF5 Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user/python/" class="md-nav__link">
        Python Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user/spark/" class="md-nav__link">
        Spark and Hadoop
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user/datamover/" class="md-nav__link">
        Data Mover
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user/interface/" class="md-nav__link">
        Native Programming Interface
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../QSG/daos_tool/" class="md-nav__link">
        DAOS Tool Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Releases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Releases" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/release_notes_v2_2/" class="md-nav__link">
        Release Notes v2.2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/support_matrix/" class="md-nav__link">
        Support Matrix
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="http://wiki.daos.io/spaces/DC/pages/4836661105/Roadmap" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Developer Zone
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Developer Zone" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Developer Zone
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/development/" class="md-nav__link">
        Dev Environment
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/daos-stack/daos/blob/master/src/README.md" class="md-nav__link">
        DAOS Internals
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../html/index.html" class="md-nav__link">
        DAOS API Documentation
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/daos-stack/daos/edit/master/docs/admin/troubleshooting.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h1>
<h2 id="daos-errors">DAOS Errors<a class="headerlink" href="#daos-errors" title="Permanent link">&para;</a></h2>
<p>DAOS error numbering starts at 1000. The most common
errors are documented in the table below.</p>
<table>
<thead>
<tr>
<th>DAOS Error</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DER_NO_PERM</td>
<td>1001</td>
<td>No permission</td>
</tr>
<tr>
<td>DER_NO_HDL</td>
<td>1002</td>
<td>Invalid handle</td>
</tr>
<tr>
<td>DER_INVAL</td>
<td>1003</td>
<td>Invalid parameters</td>
</tr>
<tr>
<td>DER_EXIST</td>
<td>1004</td>
<td>Entity already exists</td>
</tr>
<tr>
<td>DER_NONEXIST</td>
<td>1005</td>
<td>The specified entity does not exist</td>
</tr>
<tr>
<td>DER_UNREACH</td>
<td>1006</td>
<td>Unreachable node</td>
</tr>
<tr>
<td>DER_NOSPACE</td>
<td>1007</td>
<td>No space left on storage target</td>
</tr>
<tr>
<td>DER_ALREADY</td>
<td>1008</td>
<td>Operation already performed</td>
</tr>
<tr>
<td>DER_NOMEM</td>
<td>1009</td>
<td>Out of memory</td>
</tr>
<tr>
<td>DER_NOSYS</td>
<td>1010</td>
<td>Function not implemented</td>
</tr>
<tr>
<td>DER_TIMEDOUT</td>
<td>1011</td>
<td>Time out</td>
</tr>
<tr>
<td>DER_BUSY</td>
<td>1012</td>
<td>Device or resource busy</td>
</tr>
<tr>
<td>DER_AGAIN</td>
<td>1013</td>
<td>Try again</td>
</tr>
<tr>
<td>DER_PROTO</td>
<td>1014</td>
<td>Incompatible protocol</td>
</tr>
<tr>
<td>DER_UNINIT</td>
<td>1015</td>
<td>Device or resource not initialized</td>
</tr>
<tr>
<td>DER_TRUNC</td>
<td>1016</td>
<td>Buffer too short</td>
</tr>
<tr>
<td>DER_OVERFLOW</td>
<td>1017</td>
<td>Data too long for defined data type or buffer size</td>
</tr>
<tr>
<td>DER_CANCELED</td>
<td>1018</td>
<td>Operation canceled</td>
</tr>
<tr>
<td>DER_OOG</td>
<td>1019</td>
<td>Out of group or member list</td>
</tr>
<tr>
<td>DER_HG</td>
<td>1020</td>
<td>Transport layer mercury error</td>
</tr>
<tr>
<td>DER_MISC</td>
<td>1025</td>
<td>Miscellaneous error</td>
</tr>
<tr>
<td>DER_BADPATH</td>
<td>1026</td>
<td>Bad path name</td>
</tr>
<tr>
<td>DER_NOTDIR</td>
<td>1027</td>
<td>Not a directory</td>
</tr>
<tr>
<td>DER_EVICTED</td>
<td>1032</td>
<td>Rank has been evicted</td>
</tr>
<tr>
<td>DER_DOS</td>
<td>1034</td>
<td>Denial of service</td>
</tr>
<tr>
<td>DER_BAD_TARGET</td>
<td>1035</td>
<td>Incorrect target for the RPC</td>
</tr>
<tr>
<td>DER_HLC_SYNC</td>
<td>1037</td>
<td>HLC synchronization error</td>
</tr>
<tr>
<td>DER_IO</td>
<td>2001</td>
<td>Generic I/O error</td>
</tr>
<tr>
<td>DER_ENOENT</td>
<td>2003</td>
<td>Entry not found</td>
</tr>
<tr>
<td>DER_NOTYPE</td>
<td>2004</td>
<td>Unknown object type</td>
</tr>
<tr>
<td>DER_NOSCHEMA</td>
<td>2005</td>
<td>Unknown object schema</td>
</tr>
<tr>
<td>DER_KEY2BIG</td>
<td>2012</td>
<td>Key is too large</td>
</tr>
<tr>
<td>DER_REC2BIG</td>
<td>2013</td>
<td>Record is too large</td>
</tr>
<tr>
<td>DER_IO_INVAL</td>
<td>2014</td>
<td>IO buffers can't match object extents</td>
</tr>
<tr>
<td>DER_EQ_BUSY</td>
<td>2015</td>
<td>Event queue is busy</td>
</tr>
<tr>
<td>DER_SHUTDOWN</td>
<td>2017</td>
<td>Service should shut down</td>
</tr>
<tr>
<td>DER_INPROGRESS</td>
<td>2018</td>
<td>Operation now in progress</td>
</tr>
<tr>
<td>DER_NOTREPLICA</td>
<td>2020</td>
<td>Not a service replica</td>
</tr>
<tr>
<td>DER_CSUM</td>
<td>2021</td>
<td>Checksum error</td>
</tr>
<tr>
<td>DER_REC_SIZE</td>
<td>2024</td>
<td>Record size error</td>
</tr>
<tr>
<td>DER_TX_RESTART</td>
<td>2025</td>
<td>Transaction should restart</td>
</tr>
<tr>
<td>DER_DATA_LOSS</td>
<td>2026</td>
<td>Data lost or not recoverable</td>
</tr>
<tr>
<td>DER_TX_BUSY</td>
<td>2028</td>
<td>TX is not committed</td>
</tr>
<tr>
<td>DER_AGENT_INCOMPAT</td>
<td>2029</td>
<td>Agent is incompatible with libdaos</td>
</tr>
</tbody>
</table>
<p>When an operation fails, DAOS returns a negative DER error.
For a full list of errors, please check
<a href="https://github.com/daos-stack/daos/blob/master/src/include/daos_errno.h">https://github.com/daos-stack/daos/blob/master/src/include/daos_errno.h</a>
(<code>DER_ERR_GURT_BASE</code> is equal to 1000, and <code>DER_ERR_DAOS_BASE</code> is equal
to 2000).</p>
<p>The function d_errstr() is provided in the API to convert an error
number to an error message.</p>
<h2 id="log-files">Log Files<a class="headerlink" href="#log-files" title="Permanent link">&para;</a></h2>
<p>On the server side, there are three log files created as part of normal
server operations:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Config Parameter</th>
<th>Example Config Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Control Plane</td>
<td>control_log_file</td>
<td>/tmp/daos_server.log</td>
</tr>
<tr>
<td>Data Plane</td>
<td>log_file</td>
<td>/tmp/daos_engine.*.log</td>
</tr>
<tr>
<td><a href="https://daos-stack.github.io/admin/deployment/#elevated-privileges">Privileged Helper</a></td>
<td>helper_log_file</td>
<td>/tmp/daos_admin.log</td>
</tr>
<tr>
<td>agent</td>
<td>log_file</td>
<td>/tmp/daos_agent.log</td>
</tr>
</tbody>
</table>
<h3 id="control-plane-log">Control Plane Log<a class="headerlink" href="#control-plane-log" title="Permanent link">&para;</a></h3>
<p>The default log level for the control plane is INFO. The following
levels may be set using the <code>control_log_mask</code> config parameter:</p>
<ul>
<li>DEBUG</li>
<li>INFO</li>
<li>ERROR</li>
</ul>
<h3 id="data-plane-log">Data Plane Log<a class="headerlink" href="#data-plane-log" title="Permanent link">&para;</a></h3>
<p>Data Plane (<code>daos_engine</code>) logging is configured on a per-instance
basis. In other words, each section under the <code>servers:</code> section must
have its own logging configuration. The <code>log_file</code> config parameter
is converted to a D_LOG_FILE environment variable value. For more
detail, please see the <a href="#debugging-system">Debugging System</a>
section of this document.</p>
<h3 id="privileged-helper-log">Privileged Helper Log<a class="headerlink" href="#privileged-helper-log" title="Permanent link">&para;</a></h3>
<p>By default, the privileged helper only emits ERROR-level logging which
is captured by the control plane and included in that log. If the
<code>helper_log_file</code> parameter is set in the server config, then
DEBUG-level logging will be sent to the specified file.</p>
<h3 id="daos-agent-log">Daos Agent Log<a class="headerlink" href="#daos-agent-log" title="Permanent link">&para;</a></h3>
<p>If the <code>log_file</code> config parameter is set in the agent config, then
DEBUG-level logging will be sent to the specified file.</p>
<h2 id="debugging-system">Debugging System<a class="headerlink" href="#debugging-system" title="Permanent link">&para;</a></h2>
<p>DAOS uses the debug system defined in
<a href="https://github.com/daos-stack/daos/tree/master/src/cart">CaRT</a>,
specifically the GURT library.
Both server and client default log is <code>stdout</code>, unless
otherwise set by <code>D_LOG_FILE</code> environment variable (client) or
<code>log_file</code> config parameter (server).</p>
<h3 id="registered-subsystemsfacilities">Registered Subsystems/Facilities<a class="headerlink" href="#registered-subsystemsfacilities" title="Permanent link">&para;</a></h3>
<p>The debug logging system includes a series of subsystems or facilities
which define groups for related log messages (defined per source file).
There are common facilities which are defined in GURT, as well as other
facilities that can be defined on a per-project basis (such as those for
CaRT and DAOS). DD_SUBSYS can be used to set which subsystems to enable
logging. By default all subsystems are enabled ("DD_SUBSYS=all").</p>
<ul>
<li>
<p>DAOS Facilities:
    common, tree, vos, client, server, rdb, pool, container, object,
    placement, rebuild, tier, mgmt, bio, tests</p>
</li>
<li>
<p>Common Facilities (GURT):
    MISC, MEM</p>
</li>
<li>
<p>CaRT Facilities:
    RPC, BULK, CORPC, GRP, LM, HG, ST, IV</p>
</li>
</ul>
<h3 id="priority-logging">Priority Logging<a class="headerlink" href="#priority-logging" title="Permanent link">&para;</a></h3>
<p>The priority level that outputs to stderr is set with DD_STDERR. By
default in DAOS (specific to the project), this is set to CRIT
("DD_STDERR=CRIT") meaning that all CRIT and more severe log messages
will dump to stderr. However, this is separate from the priority of
logging to "/tmp/daos.log". The priority level of logging can be set
with D_LOG_MASK, which by default is set to INFO
("D_LOG_MASK=INFO"), which will result in all messages excluding DEBUG
messages being logged. D_LOG_MASK can also be used to specify the
level of logging on a per-subsystem basis as well
("D_LOG_MASK=DEBUG,MEM=ERR").</p>
<h3 id="debug-masksstreams">Debug Masks/Streams:<a class="headerlink" href="#debug-masksstreams" title="Permanent link">&para;</a></h3>
<p>DEBUG messages account for a majority of the log messages, and
finer-granularity might be desired. Mask bits are set as the first
argument passed in D_DEBUG(mask, ...). To accomplish this, DD_MASK can
be set to enable different debug streams. Similar to facilities, there
are common debug streams defined in GURT, as well as other streams that
can be defined on a per-project basis (CaRT and DAOS). All debug streams
are enabled by default ("DD_MASK=all").</p>
<ul>
<li>
<p>DAOS Debug Masks:</p>
<ul>
<li>
<p>md = metadata operations</p>
</li>
<li>
<p>pl = placement operations</p>
</li>
<li>
<p>mgmt = pool management</p>
</li>
<li>
<p>epc = epoch system</p>
</li>
<li>
<p>df = durable format</p>
</li>
<li>
<p>rebuild = rebuild process</p>
</li>
<li>
<p>daos_default = (group mask) io, md, pl, and rebuild operations</p>
</li>
</ul>
</li>
<li>
<p>Common Debug Masks (GURT):</p>
<ul>
<li>
<p>any = generic messages, no classification</p>
</li>
<li>
<p>trace = function trace, tree/hash/lru operations</p>
</li>
<li>
<p>mem = memory operations</p>
</li>
<li>
<p>net = network operations</p>
</li>
<li>
<p>io = object I/Otest = test programs</p>
</li>
</ul>
</li>
</ul>
<h3 id="common-use-cases">Common Use Cases<a class="headerlink" href="#common-use-cases" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Generic setup for all messages (default settings)</p>
<pre><code>D_LOG_MASK=DEBUG
DD_SUBSYS=all
DD_MASK=all
</code></pre>
</li>
<li>
<p>Disable all logs for performance tuning</p>
<pre><code>D_LOG_MASK=ERR -&gt; will only log error messages from all facilities
D_LOG_MASK=FATAL -&gt; will only log system fatal messages
</code></pre>
</li>
<li>
<p>Disable a noisy debug logging subsystem</p>
<pre><code>D_LOG_MASK=DEBUG,MEM=ERR -&gt; disables MEM facility by
restricting all logs from that facility to ERROR or higher priority only
</code></pre>
</li>
<li>
<p>Enable a subset of facilities of interest</p>
<pre><code>DD_SUBSYS=rpc,tests
D_LOG_MASK=DEBUG -&gt; required to see logs for RPC and TESTS
less severe than INFO (the majority of log messages)
</code></pre>
</li>
<li>
<p>Fine-tune the debug messages by setting a debug mask</p>
<pre><code>D_LOG_MASK=DEBUG
DD_MASK=mgmt -&gt; only logs DEBUG messages related to pool
management
</code></pre>
</li>
</ul>
<p>Refer to the DAOS Environment Variables document for
more information about the debug system environment.</p>
<h2 id="common-daos-problems">Common DAOS Problems<a class="headerlink" href="#common-daos-problems" title="Permanent link">&para;</a></h2>
<h3 id="incompatible-agent">Incompatible Agent<a class="headerlink" href="#incompatible-agent" title="Permanent link">&para;</a></h3>
<p>When DER_AGENT_INCOMPAT is received, it means that the client library libdaos.so
is likely mismatched with the DAOS Agent.  The libdaos.so, DAOS Agent and DAOS
Server must be built from compatible sources so that the GetAttachInfo protocol
is the same between each component.  Depending on your situation, you will need
to either update the DAOS Agent or the libdaos.so to the newer version in order
to maintain compatibility with each other.</p>
<h3 id="hlc-sync">HLC Sync<a class="headerlink" href="#hlc-sync" title="Permanent link">&para;</a></h3>
<p>When DER_HLC_SYNC is received, it means that sender and receiver HLC timestamps
are off by more than maximum allowed system clock offset (1 second by default).</p>
<p>In order to correct this situation synchronize all server clocks to the same
reference time, using services like NTP.</p>
<h3 id="shared-memory-errors">Shared Memory Errors<a class="headerlink" href="#shared-memory-errors" title="Permanent link">&para;</a></h3>
<p>When DER_SHMEM_PERMS is received it means that this I/O Engine lacked the
permissions to access the shared memory megment left behind by a previous run of
the I/O Engine on the same machine.  This happens when the I/O Engine fails to
remove the shared memory segment upon shutdown, and, there is a mismatch between
the user/group used to launch the I/O Engine between these successive runs.  To
remedy the problem, manually identify the shared memory segment and remove it.</p>
<p>Issue <code>ipcs</code> to view the Shared Memory Segments.  The output will show a
list of segments organized by <code>key</code>.</p>
<pre><code>ipcs

------ Message Queues --------
key        msqid      owner      perms      used-bytes   messages

------ Shared Memory Segments --------
key        shmid      owner      perms      bytes      nattch     status
0xffffffff 49938432   root       666        40         0
0x10242048 98598913   jbrosenz   660        1048576    0
0x10242049 98631682   jbrosenz   660        1048576    0

------ Semaphore Arrays --------
key        semid      owner      perms      nsems
</code></pre>

<p>Shared Memory Segments with keys [0x10242048 .. (0x10242048 + number of I/O
Engines running)] are the segments that must be removed.  Use <code>ipcrm</code> to
remove the segment.</p>
<p>For example, to remove the shared memory segment left behind by I/O Engine
instance 0, issue:</p>
<pre><code>sudo ipcrm -M 0x10242048
</code></pre>

<p>To remove the shared memory segment left behind by I/O Engine instance 1, issue:</p>
<pre><code>sudo ipcrm -M 0x10242049
</code></pre>

<h3 id="server-start-issues">Server Start Issues<a class="headerlink" href="#server-start-issues" title="Permanent link">&para;</a></h3>
<ol>
<li>Read the log located in the <code>control_log_file</code>.</li>
<li>Verify that the <code>daos_server</code> process is not currently running.</li>
<li>Check the SCM device path in /dev.</li>
<li>
<p>Verify the PCI addresses using <code>dmg storage scan</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A server must be started with minimum setup.
You can also obtain the addresses with <code>daos_server storage scan</code>.</p>
</div>
</li>
<li>
<p>Format the SCMs defined in the config file.</p>
</li>
<li>Generate the config file using <code>dmg config generate</code>. The various requirements will be populated without a syntax error.</li>
<li>Try starting with <code>allow_insecure: true</code>. This will rule out the credential certificate issue.</li>
<li>Verify that the <code>access_points</code> host is accessible and the port is not used.</li>
<li>Check the <code>provider</code> entry. See the "Network Scan and Configuration" section of the admin guide for determining the right provider to use.</li>
<li>Check <code>fabric_iface</code> in <code>engines</code>. They should be available and enabled.</li>
<li>Check that <code>socket_dir</code> is writeable by the daos_server.</li>
</ol>
<h3 id="errors-creating-a-pool">Errors creating a Pool<a class="headerlink" href="#errors-creating-a-pool" title="Permanent link">&para;</a></h3>
<ol>
<li>Check which engine rank you want to create a pool in with <code>dmg system query --verbose</code> and verify their State is Joined.</li>
<li><code>DER_NOSPACE(-1007)</code> appears: Check the size of the NVMe and PMEM. Next, check the size of the existing pool. Then check that this new pool being created will fit into the remaining disk space.</li>
</ol>
<h3 id="problems-creating-a-container">Problems creating a container<a class="headerlink" href="#problems-creating-a-container" title="Permanent link">&para;</a></h3>
<ol>
<li>Check that the path to daos is your intended binary. It's usually <code>/usr/bin/daos</code>.</li>
<li>When the server configuration is changed, it's necessary to restart the agent.</li>
<li><code>DER_UNREACH(-1006)</code>: Check the socket ID consistency between PMEM and NVMe. First, determine which socket you're using with <code>daos_server network scan -p all</code>. e.g., if the interface you're using in the engine section is eth0, find which NUMA Socket it belongs to. Next, determine the disks you can use with this socket by calling <code>daos_server storage scan</code> or <code>dmg storage scan</code>. e.g., if eth0 belongs to NUMA Socket 0, use only the disks with 0 in the Socket ID column.</li>
<li>Check the interface used in the server config (<code>fabric_iface</code>) also exists in the client and can communicate with the server.</li>
<li>Check the access_points of the agent config points to the correct server host.</li>
<li>Call <code>daos pool query</code> and check that the pool exists and has free space.</li>
</ol>
<h3 id="applications-run-slow">Applications run slow<a class="headerlink" href="#applications-run-slow" title="Permanent link">&para;</a></h3>
<p>Verify if you're using Infiniband for <code>fabric_iface</code>: in the server config. The IO will be significantly slower with Ethernet.</p>
<h2 id="common-errors-and-workarounds">Common Errors and Workarounds<a class="headerlink" href="#common-errors-and-workarounds" title="Permanent link">&para;</a></h2>
<h3 id="use-dmg-command-without-daos_admin-privilege">Use dmg command without daos_admin privilege<a class="headerlink" href="#use-dmg-command-without-daos_admin-privilege" title="Permanent link">&para;</a></h3>
<pre><code># Error message or timeout after dmg system query
$ dmg system query
ERROR: dmg: Unable to load Certificate Data: could not load cert: stat /etc/daos/certs/admin.crt: no such file or directory

# Workaround

# 1. Make sure the admin-host /etc/daos/daos_control.yml is correctly configured.
    # including:
        # hostlist: &lt;daos_server_lists&gt;
        # port: &lt;port_num&gt;
        # transport\config:
            # allow_insecure: &lt;true/false&gt;
            # ca\cert: /etc/daos/certs/daosCA.crt
            # cert: /etc/daos/certs/admin.crt
            # key: /etc/daos/certs/admin.key

# 2. Make sure the admin-host allow_insecure mode matches the applicable servers.
</code></pre>
<h3 id="use-daos-command-before-daos_agent-started">use daos command before daos_agent started<a class="headerlink" href="#use-daos-command-before-daos_agent-started" title="Permanent link">&para;</a></h3>
<pre><code>$ daos cont create --pool=$DAOS_POOL
daos ERR  src/common/drpc.c:217 unixcomm_connect() Failed to connect to /var/run/daos_agent/daos_agent.sock, errno=2(No such file or directory)
mgmt ERR  src/mgmt/cli_mgmt.c:222 get_attach_info() failed to connect to /var/run/daos_agent/daos_agent.sock DER_MISC(-1025): 'Miscellaneous error'
failed to initialize daos: Miscellaneous error (-1025)


# Work around to check for daos_agent certification and start daos_agent
    #check for /etc/daos/certs/daosCA.crt, agent.crt and agent.key
    $ sudo systemctl enable daos_agent.service
    $ sudo systemctl start daos_agent.service
</code></pre>
<h3 id="use-daos-command-with-invalid-or-wrong-parameters">use daos command with invalid or wrong parameters<a class="headerlink" href="#use-daos-command-with-invalid-or-wrong-parameters" title="Permanent link">&para;</a></h3>
<pre><code># Lack of providing daos pool_uuid
$ daos pool list-cont
pool UUID required
rc: 2
daos command (v1.2), libdaos 1.2.0
usage: daos RESOURCE COMMAND [OPTIONS]
resources:
          pool             pool
          container (cont) container
          filesystem (fs)  copy to and from a POSIX filesystem
          object (obj)     object
          shell            Interactive obj ctl shell for DAOS
          version          print command version
          help             print this message and exit
use 'daos help RESOURCE' for resource specifics

# Invalid sub-command cont-list
$ daos pool cont-list --pool=$DAOS_POOL
invalid pool command: cont-list
error parsing command line arguments
daos command (v1.2), libdaos 1.2.0
usage: daos RESOURCE COMMAND [OPTIONS]
resources:
          pool             pool
          container (cont) container
          filesystem (fs)  copy to and from a POSIX filesystem
          object (obj)     object
          shell            Interactive obj ctl shell for DAOS
          version          print command version
          help             print this message and exit
use 'daos help RESOURCE' for resource specifics

# Working daos pool command
$ daos pool list-cont --pool=$DAOS_POOL
bc4fe707-7470-4b7d-83bf-face75cc98fc
</code></pre>
<h2 id="dmg-pool-create-failed-due-to-no-space">dmg pool create failed due to no space<a class="headerlink" href="#dmg-pool-create-failed-due-to-no-space" title="Permanent link">&para;</a></h2>
<pre><code>$ dmg pool create --size=50G
Creating DAOS pool with automatic storage allocation: 50 GB NVMe + 6.00% SCM
ERROR: dmg: pool create failed: DER_NOSPACE(-1007): No space on storage target

# Workaround: dmg storage query scan to find current available storage
    dmg storage query usage
    Hosts  SCM-Total SCM-Free SCM-Used NVMe-Total NVMe-Free NVMe-Used
    -----  --------- -------- -------- ---------- --------- ---------
    boro-8 17 GB     6.0 GB   65 %     0 B        0 B       N/A

    $ dmg pool create --size=2G
    Creating DAOS pool with automatic storage allocation: 2.0 GB NVMe + 6.00% SCM
    Pool created with 100.00% SCM/NVMe ratio
    -----------------------------------------
      UUID          : b5ce2954-3f3e-4519-be04-ea298d776132
      Service Ranks : 0
      Storage Ranks : 0
      Total Size    : 2.0 GB
      SCM           : 2.0 GB (2.0 GB / rank)
      NVMe          : 0 B (0 B / rank)

    $ dmg storage query usage
    Hosts  SCM-Total SCM-Free SCM-Used NVMe-Total NVMe-Free NVMe-Used
    -----  --------- -------- -------- ---------- --------- ---------
    boro-8 17 GB     2.9 GB   83 %     0 B        0 B       N/A
</code></pre>
<h3 id="dmg-pool-destroy-timeout">dmg pool destroy timeout<a class="headerlink" href="#dmg-pool-destroy-timeout" title="Permanent link">&para;</a></h3>
<pre><code># dmg pool destroy Timeout or failed due to pool has active container(s)
# Workaround pool destroy --force option

    $ dmg pool destroy --pool=$DAOS_POOL --force
    Pool-destroy command succeeded
</code></pre>
<h2 id="bug-report">Bug Report<a class="headerlink" href="#bug-report" title="Permanent link">&para;</a></h2>
<p>Bugs should be reported through our issue tracker<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> with a test case
to reproduce the issue (when applicable) and debug logs.</p>
<p>After creating a ticket, logs should be gathered from the locations
described in the <a href="#log-files">Log Files</a> section of this document and
attached to the ticket.</p>
<p>To avoid problems with attaching large files, please attach the logs
in a compressed container format, such as .zip or .tar.bz2.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>http://jira.daos.io&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../performance_tuning/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Performance Tuning" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Performance Tuning
            </div>
          </div>
        </a>
      
      
        
        <a href="../utilities_examples/" class="md-footer__link md-footer__link--next" aria-label="Next: Utilities and Usage Examples" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Utilities and Usage Examples
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016 - 2021 Intel Corporation
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "navigation.top", "navigation.indexes", "toc.integrate", "search.suggest", "search.highlight"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.409db549.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.756773cc.min.js"></script>
      
    
  </body>
</html>